<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Simpletypes by smetdenis</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Simpletypes</h1>
      <h2 class="project-tagline">The universal PHP library to convert any values and measures (money, weight, currency, length e.t.c)</h2>
      <a href="https://github.com/smetdenis/SimpleTypes" class="btn">View on GitHub</a>
      <a href="https://github.com/smetdenis/SimpleTypes/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/smetdenis/SimpleTypes/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="simpletypes" class="anchor" href="#simpletypes" aria-hidden="true"><span class="octicon octicon-link"></span></a>SimpleTypes</h1>

<h3>
<a id="the-universal-php-library-to-convert-any-values-and-measures" class="anchor" href="#the-universal-php-library-to-convert-any-values-and-measures" aria-hidden="true"><span class="octicon octicon-link"></span></a>The universal PHP library to convert any values and measures</h3>

<p><a href="https://packagist.org/packages/smetdenis/simpletypes"><img src="https://poser.pugx.org/smetdenis/simpletypes/license" alt="License"></a>  <a href="https://packagist.org/packages/smetdenis/simpletypes"><img src="https://poser.pugx.org/smetdenis/simpletypes/v/stable" alt="Latest Stable Version"></a>  <a href="https://travis-ci.org/smetdenis/SimpleTypes"><img src="https://travis-ci.org/smetdenis/SimpleTypes.svg?branch=master" alt="Build Status"></a>  <a href="https://coveralls.io/r/smetdenis/SimpleTypes"><img src="https://coveralls.io/repos/smetdenis/SimpleTypes/badge.svg" alt="Coverage Status"></a>  <a href="https://scrutinizer-ci.com/g/smetdenis/SimpleTypes/?branch=master"><img src="https://scrutinizer-ci.com/g/smetdenis/SimpleTypes/badges/quality-score.png?b=master" alt="Scrutinizer Code Quality"></a>  <a href="https://codeclimate.com/github/smetdenis/SimpleTypes"><img src="https://codeclimate.com/github/smetdenis/SimpleTypes/badges/gpa.svg" alt="Code Climate"></a><br>
<a href="https://www.versioneye.com/user/projects/5596cc726166340021000010"><img src="https://www.versioneye.com/user/projects/5596cc726166340021000010/badge.svg?style=flat" alt="Dependency Status"></a> 
<a href="http://hhvm.h4cc.de/package/smetdenis/simpletypes"><img src="http://hhvm.h4cc.de/badge/smetdenis/simpletypes.svg" alt="HHVM Status"></a>  <a href="https://insight.sensiolabs.com/projects/03303b96-02dc-4e6e-b1ca-ac87e5f4ca9a"><img src="https://insight.sensiolabs.com/projects/03303b96-02dc-4e6e-b1ca-ac87e5f4ca9a/mini.png" alt="SensioLabsInsight"></a></p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Simply add a dependency on <code>smetdenis/simpletypes</code> to your project's <code>composer.json</code> file if you use <a href="http://getcomposer.org/">Composer</a> to manage the dependencies of your project.
Here is a minimal example of a <code>composer.json</code> file that just defines a dependency on Money:</p>

<div class="highlight highlight-javascript"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>require<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
        <span class="pl-s"><span class="pl-pds">"</span>smetdenis/simpletypes<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>1.*<span class="pl-pds">"</span></span>
    }
}</pre></div>

<p>... or in a command line <code>composer require smetdenis/simpletypes</code></p>

<h2>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples</h2>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-k">require_once</span> <span class="pl-s"><span class="pl-pds">'</span>./src/autoload.php<span class="pl-pds">'</span></span>; <span class="pl-c">// or with composer autoload.php</span></span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">SmetDenis\SimpleTypes\Config</span>;</span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">SmetDenis\SimpleTypes\Money</span>;</span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">SmetDenis\SimpleTypes\ConfigMoney</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// Set config object for all Money objects as default</span></span>
<span class="pl-s1"><span class="pl-c1">Config</span><span class="pl-k">::</span>registerDefault(<span class="pl-s"><span class="pl-pds">'</span>money<span class="pl-pds">'</span></span>, <span class="pl-k">new</span> <span class="pl-c1">ConfigMoney</span>());</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// Create any object, some different ways</span></span>
<span class="pl-s1"><span class="pl-smi">$money</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span>10 eur<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"><span class="pl-smi">$money</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Weight</span>(<span class="pl-s"><span class="pl-pds">'</span>1000<span class="pl-pds">'</span></span>); <span class="pl-c">// Gram is default in the ConfigWeight class</span></span>
<span class="pl-s1"><span class="pl-smi">$money</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Length</span>(<span class="pl-s"><span class="pl-pds">'</span>500 km<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"><span class="pl-smi">$money</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span>100500 usd<span class="pl-pds">'</span></span>, <span class="pl-k">new</span> <span class="pl-c1">ConfigMoney</span>()); <span class="pl-c">// my custom params only for that object</span></span></pre></div>

<h2>
<a id="a-lot-of-types-is-ready-for-use" class="anchor" href="#a-lot-of-types-is-ready-for-use" aria-hidden="true"><span class="octicon octicon-link"></span></a>A lot of types is ready for use</h2>

<p>SimpleTypes has such ready configurations like</p>

<ul>
<li>Area</li>
<li>Degree (geometry)</li>
<li>Info (bytes, bits...)</li>
<li>Length</li>
<li>Money (Currency converter)</li>
<li>Temperature (Kelvin, Fahrenheit, Celsius and etc)</li>
<li>Volume</li>
<li>Weight</li>
</ul>

<p>You can add your own type. It's really easy. See this page below.</p>

<h3>
<a id="smart-and-useful-parser" class="anchor" href="#smart-and-useful-parser" aria-hidden="true"><span class="octicon octicon-link"></span></a>Smart and useful parser</h3>

<p>SimpleTypes has really smart parser for all input values.
It can find number, understand any decimal symbols, trim, letter cases, e.t.c...</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-smi">$money</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span> - 1 2 3 , 4 5 6 rub <span class="pl-pds">'</span></span>); <span class="pl-c">// Equals -123.456 rubles</span></span>
<span class="pl-s1"><span class="pl-smi">$money</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span>1.0e+18 EUR <span class="pl-pds">'</span></span>); <span class="pl-c">// Really huge number. I'm rich! =)</span></span>
<span class="pl-s1"><span class="pl-smi">$money</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span>  EuR 3,50   <span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"><span class="pl-smi">$money</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span>usd<span class="pl-pds">'</span></span>); <span class="pl-c">// Just object with usd rule</span></span></pre></div>

<h3>
<a id="basic-arithmetic" class="anchor" href="#basic-arithmetic" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic arithmetic</h3>

<p>Different ways to use basic arithmetic</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-c">// example #1</span></span>
<span class="pl-s1"><span class="pl-smi">$usd</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span>10 usd<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"><span class="pl-smi">$usd</span><span class="pl-k">-&gt;</span>add(<span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span>10 eur<span class="pl-pds">'</span></span>));</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// example #2</span></span>
<span class="pl-s1"><span class="pl-smi">$usd</span> <span class="pl-k">=</span> (<span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span>10 usd<span class="pl-pds">'</span></span>))<span class="pl-k">-&gt;</span>add(<span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span>10 eur<span class="pl-pds">'</span></span>));</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// example #3</span></span>
<span class="pl-s1"><span class="pl-smi">$usd</span><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>10 eur<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// example #4</span></span>
<span class="pl-s1"><span class="pl-smi">$usd</span><span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>10<span class="pl-pds">'</span></span>); <span class="pl-c">// eur is default in the ConfigMoney</span></span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// example #5</span></span>
<span class="pl-s1"><span class="pl-smi">$usd</span><span class="pl-k">-&gt;</span>add([<span class="pl-s"><span class="pl-pds">'</span>10<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>eur<span class="pl-pds">'</span></span>]);</span></pre></div>

<h3>
<a id="chaining-method-calls" class="anchor" href="#chaining-method-calls" aria-hidden="true"><span class="octicon octicon-link"></span></a>Chaining method calls</h3>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-smi">$value</span> <span class="pl-k">=</span> (<span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span>4.95 usd<span class="pl-pds">'</span></span>))</span>
<span class="pl-s1">    <span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>10 usd<span class="pl-pds">'</span></span>)<span class="pl-c">// $14.95</span></span>
<span class="pl-s1">    <span class="pl-k">-&gt;</span>subtract(<span class="pl-s"><span class="pl-pds">'</span>2 eur<span class="pl-pds">'</span></span>)<span class="pl-c">// $10.95</span></span>
<span class="pl-s1">    <span class="pl-k">-&gt;</span>negative()<span class="pl-c">// -$10.95</span></span>
<span class="pl-s1">    <span class="pl-k">-&gt;</span>getClone()<span class="pl-c">// copy of object is created</span></span>
<span class="pl-s1">    <span class="pl-k">-&gt;</span>division(<span class="pl-c1">5</span>)<span class="pl-c">// -$2.19</span></span>
<span class="pl-s1">    <span class="pl-k">-&gt;</span>multiply(<span class="pl-c1">10</span>)<span class="pl-c">// -$21.90</span></span>
<span class="pl-s1">    <span class="pl-k">-&gt;</span>convert(<span class="pl-s"><span class="pl-pds">'</span>eur<span class="pl-pds">'</span></span>)<span class="pl-c">// -10.95€ (For easy understanding we use 1 EUR = 2 USD)</span></span>
<span class="pl-s1">    <span class="pl-k">-&gt;</span>customFunc(<span class="pl-k">function</span> (<span class="pl-c1">Money</span> <span class="pl-smi">$value</span>) { <span class="pl-c">// sometimes we would like something more than plus/minus ;)</span></span>
<span class="pl-s1">        <span class="pl-smi">$value</span></span>
<span class="pl-s1">            <span class="pl-k">-&gt;</span>add(<span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span>600 rub<span class="pl-pds">'</span></span>))<span class="pl-c">// 1.05€ (1 EUR = 50 RUB)</span></span>
<span class="pl-s1">            <span class="pl-k">-&gt;</span>add(<span class="pl-s"><span class="pl-pds">'</span>-500%<span class="pl-pds">'</span></span>);<span class="pl-c">// -4.2€</span></span>
<span class="pl-s1">    })</span>
<span class="pl-s1">    <span class="pl-k">-&gt;</span>abs() <span class="pl-c">// 4.2€</span></span></pre></div>

<h2>
<a id="different-ways-for-output-and-rendering" class="anchor" href="#different-ways-for-output-and-rendering" aria-hidden="true"><span class="octicon octicon-link"></span></a>Different ways for output and rendering</h2>

<h3>
<a id="only-text" class="anchor" href="#only-text" aria-hidden="true"><span class="octicon octicon-link"></span></a>Only text</h3>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-smi">$value</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span>-50.666666 usd<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"><span class="pl-c1">echo</span> <span class="pl-smi">$value</span><span class="pl-k">-&gt;</span>text(); <span class="pl-c">// "-$50.67"</span></span>
<span class="pl-s1"><span class="pl-c1">echo</span> <span class="pl-smi">$value</span><span class="pl-k">-&gt;</span>text(<span class="pl-s"><span class="pl-pds">'</span>rub<span class="pl-pds">'</span></span>); <span class="pl-c">// "-1 266,67 руб." (output without changing inner state)</span></span>
<span class="pl-s1"><span class="pl-c1">echo</span> <span class="pl-smi">$value</span><span class="pl-k">-&gt;</span>noStyle(<span class="pl-s"><span class="pl-pds">'</span>rub<span class="pl-pds">'</span></span>);<span class="pl-c">// "-1 266,67" (without symbol)</span></span></pre></div>

<h3>
<a id="simple-html-rendering" class="anchor" href="#simple-html-rendering" aria-hidden="true"><span class="octicon octicon-link"></span></a>Simple HTML rendering</h3>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-c1">echo</span> (<span class="pl-k">new</span> <span class="pl-c1">Money</span>(<span class="pl-s"><span class="pl-pds">'</span>-50.666666 usd<span class="pl-pds">'</span></span>))<span class="pl-k">-&gt;</span>html(<span class="pl-s"><span class="pl-pds">'</span>rub<span class="pl-pds">'</span></span>); <span class="pl-c">// render HTML, useful for JavaScript</span></span></pre></div>

<p>Output (warping added just for clarity)</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-k">&lt;</span><span class="pl-c1">span</span></span>
<span class="pl-s1">    <span class="pl-k">class</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>simpleType simpleType-block simpleType-money<span class="pl-pds">"</span></span></span>
<span class="pl-s1">    <span class="pl-c1">data</span><span class="pl-k">-</span><span class="pl-c1">simpleType</span><span class="pl-k">-</span><span class="pl-c1">id</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span></span>
<span class="pl-s1">    <span class="pl-c1">data</span><span class="pl-k">-</span><span class="pl-c1">simpleType</span><span class="pl-k">-</span><span class="pl-c1">value</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>-1266.66665<span class="pl-pds">"</span></span></span>
<span class="pl-s1">    <span class="pl-c1">data</span><span class="pl-k">-</span><span class="pl-c1">simpleType</span><span class="pl-k">-</span><span class="pl-c1">rule</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>rub<span class="pl-pds">"</span></span></span>
<span class="pl-s1">    <span class="pl-c1">data</span><span class="pl-k">-</span><span class="pl-c1">simpleType</span><span class="pl-k">-</span><span class="pl-c1">orig</span><span class="pl-k">-</span><span class="pl-c1">value</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>-50.666666<span class="pl-pds">"</span></span></span>
<span class="pl-s1">    <span class="pl-c1">data</span><span class="pl-k">-</span><span class="pl-c1">simpleType</span><span class="pl-k">-</span><span class="pl-c1">orig</span><span class="pl-k">-</span><span class="pl-c1">rule</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>usd<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span></span>
<span class="pl-s1">        <span class="pl-k">-</span><span class="pl-k">&lt;</span><span class="pl-c1">span</span> <span class="pl-k">class</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>simpleType-value<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span><span class="pl-c1">1</span> <span class="pl-c1">266</span>,<span class="pl-c1">67</span><span class="pl-k">&lt;</span><span class="pl-k">/</span><span class="pl-c1">span</span><span class="pl-k">&gt;</span></span>
<span class="pl-s1">        <span class="pl-k">&lt;</span><span class="pl-c1">span</span> <span class="pl-k">class</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>simpleType-symbol<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span>руб<span class="pl-k">.</span><span class="pl-k">&lt;</span><span class="pl-k">/</span><span class="pl-c1">span</span><span class="pl-k">&gt;</span></span>
<span class="pl-s1"><span class="pl-k">&lt;</span><span class="pl-k">/</span><span class="pl-c1">span</span><span class="pl-k">&gt;</span></span></pre></div>

<h3>
<a id="html-input-typetext" class="anchor" href="#html-input-typetext" aria-hidden="true"><span class="octicon octicon-link"></span></a>HTML Input type[text]</h3>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-c1">echo</span> <span class="pl-smi">$value</span><span class="pl-k">-&gt;</span>htmlInput(<span class="pl-s"><span class="pl-pds">'</span>rub<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>input-name-attr<span class="pl-pds">'</span></span>);</span></pre></div>

<p>Output (warping added just for clarity)</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">input</span>
    <span class="pl-e">value</span>=<span class="pl-s"><span class="pl-pds">"</span>-1 266,67<span class="pl-pds">"</span></span>
    <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>input-name-attr<span class="pl-pds">"</span></span>
    <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span>
    <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>simpleType simpleType-money simpleType-input<span class="pl-pds">"</span></span>
    <span class="pl-e">data-simpleType-id</span>=<span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>
    <span class="pl-e">data-simpleType-value</span>=<span class="pl-s"><span class="pl-pds">"</span>-1266.66665<span class="pl-pds">"</span></span>
    <span class="pl-e">data-simpleType-rule</span>=<span class="pl-s"><span class="pl-pds">"</span>rub<span class="pl-pds">"</span></span>
    <span class="pl-e">data-simpleType-orig-value</span>=<span class="pl-s"><span class="pl-pds">"</span>-50.666666<span class="pl-pds">"</span></span>
    <span class="pl-e">data-simpleType-orig-rule</span>=<span class="pl-s"><span class="pl-pds">"</span>usd<span class="pl-pds">"</span></span>
/&gt;</pre></div>

<p><strong>Notice:</strong> Yes, we added a lot of data-attributes in the HTML code. It will be useful for JavaScript and converting without reload a page.</p>

<h2>
<a id="configuration-of-type" class="anchor" href="#configuration-of-type" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration of type</h2>

<p>All configuration classes should be extended from Config class
For example, config for information</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c"> * Class ConfigInfo</span></span>
<span class="pl-s1"><span class="pl-c"> * <span class="pl-k">@package</span> SmetDenis\SimpleTypes</span></span>
<span class="pl-s1"><span class="pl-c"> */</span></span>
<span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">ConfigInfo</span> <span class="pl-k">extends</span> <span class="pl-e">Config</span></span>
<span class="pl-s1">{</span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * SimpleTypes uses it for converting and while parsing undefined values</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> string</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$default</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>byte<span class="pl-pds">'</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * To collect or not to collect logs for each object (need additional memory a little bit)</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> bool</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-smi">$isDebug</span> <span class="pl-k">=</span> <span class="pl-c1">true</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * Array of converting rules and output format</span></span>
<span class="pl-s1"><span class="pl-c">     * return array</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">getRules</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">        <span class="pl-c">// key of array is alias for parser</span></span>
<span class="pl-s1">        <span class="pl-k">return</span> <span class="pl-c1">array</span>(</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>byte<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">array</span>(</span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>rate<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">1</span> <span class="pl-c">// 1 byte = 1 byte =)))</span></span>
<span class="pl-s1">            ),</span>
<span class="pl-s1"></span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>kb<span class="pl-pds">'</span></span>   <span class="pl-k">=&gt;</span> <span class="pl-c1">array</span>(</span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>symbol<span class="pl-pds">'</span></span>          <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>KB<span class="pl-pds">'</span></span>,                     <span class="pl-c">// symbol for output (-&gt;text(), -&gt;html(), ...)</span></span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>round_type<span class="pl-pds">'</span></span>      <span class="pl-k">=&gt;</span> <span class="pl-c1">Formatter</span><span class="pl-k">::</span><span class="pl-c1">ROUND_CLASSIC</span>, <span class="pl-c">// classic, float, ceil, none</span></span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>round_value<span class="pl-pds">'</span></span>     <span class="pl-k">=&gt;</span> <span class="pl-c1">Formatter</span><span class="pl-k">::</span><span class="pl-c1">ROUND_DEFAULT</span>, <span class="pl-c">// Count of valuable number after decimal point for any arithmetic actions</span></span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>num_decimals<span class="pl-pds">'</span></span>    <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>2<span class="pl-pds">'</span></span>,       <span class="pl-c">// Sets the number of decimal points</span></span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>decimal_sep<span class="pl-pds">'</span></span>     <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>.<span class="pl-pds">'</span></span>,       <span class="pl-c">// Sets the separator for the decimal point.</span></span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>thousands_sep<span class="pl-pds">'</span></span>   <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span> <span class="pl-pds">'</span></span>,       <span class="pl-c">// Sets the thousands separator.</span></span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>format_positive<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>%v %s<span class="pl-pds">'</span></span>,   <span class="pl-c">// %v - replace to rounded and formated (number_format()) value</span></span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>format_negative<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>-%v %s<span class="pl-pds">'</span></span>,  <span class="pl-c">// %s - replace to symbol</span></span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>rate<span class="pl-pds">'</span></span>            <span class="pl-k">=&gt;</span> <span class="pl-c1">1024</span>,      <span class="pl-c">// How many bytes (default measure) in the 1 KB ?</span></span>
<span class="pl-s1">            ),</span>
<span class="pl-s1"></span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>mb<span class="pl-pds">'</span></span>   <span class="pl-k">=&gt;</span> <span class="pl-c1">array</span>( <span class="pl-c">// Other params gets from $this-&gt;defaultParams variable</span></span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>symbol<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>GB<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>rate<span class="pl-pds">'</span></span>   <span class="pl-k">=&gt;</span> <span class="pl-c1">1024</span> <span class="pl-k">*</span> <span class="pl-c1">1024</span>,</span>
<span class="pl-s1">            ),</span>
<span class="pl-s1"></span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>gb<span class="pl-pds">'</span></span>   <span class="pl-k">=&gt;</span> <span class="pl-c1">array</span>( <span class="pl-c">// Other params gets from $this-&gt;defaultParams variable</span></span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>symbol<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>GB<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>rate<span class="pl-pds">'</span></span>   <span class="pl-k">=&gt;</span> <span class="pl-c1">1024</span> <span class="pl-k">*</span> <span class="pl-c1">1024</span> <span class="pl-k">*</span> <span class="pl-c1">1024</span>,</span>
<span class="pl-s1">            ),</span>
<span class="pl-s1"></span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>bit<span class="pl-pds">'</span></span>  <span class="pl-k">=&gt;</span> <span class="pl-c1">array</span>(</span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>symbol<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>Bit<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>rate<span class="pl-pds">'</span></span>   <span class="pl-k">=&gt;</span> <span class="pl-k">function</span> (<span class="pl-smi">$value</span>, <span class="pl-smi">$to</span>) { <span class="pl-c">// Custom callback function for difficult conversion</span></span>
<span class="pl-s1">                    <span class="pl-k">if</span> (<span class="pl-smi">$to</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">'</span>bit<span class="pl-pds">'</span></span>) {</span>
<span class="pl-s1">                         <span class="pl-k">return</span> <span class="pl-smi">$value</span> <span class="pl-k">*</span> <span class="pl-c1">8</span>;</span>
<span class="pl-s1">                    }</span>
<span class="pl-s1">                    <span class="pl-k">return</span> <span class="pl-smi">$value</span> <span class="pl-k">/</span> <span class="pl-c1">8</span>;</span>
<span class="pl-s1">                },</span>
<span class="pl-s1">            ),</span>
<span class="pl-s1">        );</span>
<span class="pl-s1">    }</span>
<span class="pl-s1">}</span></pre></div>

<p>Usage example for our information type</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-c">// create config object</span></span>
<span class="pl-s1"><span class="pl-smi">$config</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">ConfigInfo</span>();</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// you can register default config for all info-objects,</span></span>
<span class="pl-s1"><span class="pl-c1">Config</span><span class="pl-k">::</span>registerDefault(<span class="pl-s"><span class="pl-pds">'</span>info<span class="pl-pds">'</span></span>, <span class="pl-smi">$config</span>);</span>
<span class="pl-s1"><span class="pl-smi">$info1</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Info</span>(<span class="pl-s"><span class="pl-pds">'</span>700 MB<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"><span class="pl-smi">$info2</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Info</span>(<span class="pl-s"><span class="pl-pds">'</span>1.4 GB<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// or add config object manually</span></span>
<span class="pl-s1"><span class="pl-smi">$info1</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Info</span>(<span class="pl-s"><span class="pl-pds">'</span>700 MB<span class="pl-pds">'</span></span>, <span class="pl-smi">$config</span>);</span>
<span class="pl-s1"><span class="pl-smi">$info2</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Info</span>(<span class="pl-s"><span class="pl-pds">'</span>1.4 GB<span class="pl-pds">'</span></span>, <span class="pl-smi">$config</span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">// Well... some calculations</span></span>
<span class="pl-s1"><span class="pl-c1">echo</span> <span class="pl-smi">$info2</span><span class="pl-k">-&gt;</span>subtract(<span class="pl-smi">$info1</span>)<span class="pl-k">-&gt;</span>dump() <span class="pl-k">.</span> <span class="pl-c1">PHP_EOL</span>;</span>
<span class="pl-s1"><span class="pl-c1">echo</span> <span class="pl-smi">$info2</span><span class="pl-k">-&gt;</span>convert(<span class="pl-s"><span class="pl-pds">'</span>mb<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>dump() <span class="pl-k">.</span> <span class="pl-c1">PHP_EOL</span>;</span>
<span class="pl-s1"><span class="pl-c1">print_r</span>(<span class="pl-smi">$info2</span><span class="pl-k">-&gt;</span>logs());</span></pre></div>

<p>Output</p>

<pre><code>0.71640625 gb; id=4
733.6 mb; id=4
Array
(
    [0] =&gt; Id=4 has just created; dump="1.4 gb"
    [1] =&gt; Subtract "700 mb"; New value = "0.71640625 gb"
    [2] =&gt; Converted "gb"=&gt;"mb"; New value = "733.6 mb"; 1 gb = 1024 mb
)
</code></pre>

<h3>
<a id="debug-information" class="anchor" href="#debug-information" aria-hidden="true"><span class="octicon octicon-link"></span></a>Debug information</h3>

<p>Show list of all actions with object. For example, this is history for chaining code</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-c1">print_r</span>(<span class="pl-smi">$value</span><span class="pl-k">-&gt;</span>logs());</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c"> * Array</span></span>
<span class="pl-s1"><span class="pl-c"> * (</span></span>
<span class="pl-s1"><span class="pl-c"> *     [0]  =&gt; Id=16 has just created; dump="4.95 usd"</span></span>
<span class="pl-s1"><span class="pl-c"> *     [1]  =&gt; Add "10 usd"; New value = "14.95 usd"</span></span>
<span class="pl-s1"><span class="pl-c"> *     [2]  =&gt; Subtract "2 eur"; New value = "10.95 usd"</span></span>
<span class="pl-s1"><span class="pl-c"> *     [3]  =&gt; Set negative; New value = "-10.95 usd"</span></span>
<span class="pl-s1"><span class="pl-c"> *     [4]  =&gt; Cloned from id=16 and created new with id=19; dump=-10.95 usd</span></span>
<span class="pl-s1"><span class="pl-c"> *     [5]  =&gt; Division with "5"; New value = "-2.19 usd"</span></span>
<span class="pl-s1"><span class="pl-c"> *     [6]  =&gt; Multiply with "10"; New value = "-21.9 usd"</span></span>
<span class="pl-s1"><span class="pl-c"> *     [7]  =&gt; Converted "usd"=&gt;"eur"; New value = "-10.95 eur"; 1 usd = 0.5 eur</span></span>
<span class="pl-s1"><span class="pl-c"> *     [8]  =&gt; --&gt; Function start</span></span>
<span class="pl-s1"><span class="pl-c"> *     [9]  =&gt; Add "600 rub"; New value = "1.05 eur"</span></span>
<span class="pl-s1"><span class="pl-c"> *     [10] =&gt; Add "-500 %"; New value = "-4.2 eur"</span></span>
<span class="pl-s1"><span class="pl-c"> *     [11] =&gt; &lt;-- Function finished; New value = "-4.2 eur"</span></span>
<span class="pl-s1"><span class="pl-c"> *     [12] =&gt; Set positive/abs; New value = "4.2 eur"</span></span>
<span class="pl-s1"><span class="pl-c"> * )</span></span>
<span class="pl-s1"><span class="pl-c"> */</span></span></pre></div>

<p>Show real inner data without any formating and rounding. ID is unique number for SimpleType objects.</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-c1">echo</span> <span class="pl-smi">$value</span><span class="pl-k">-&gt;</span>dump(); <span class="pl-c">// "4.2 eur; id=19"</span></span></pre></div>

<p>Get object id</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-c1">echo</span> <span class="pl-smi">$value</span><span class="pl-k">-&gt;</span>getId(); <span class="pl-c">// "19"</span></span></pre></div>

<p>Show current value</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-c1">echo</span> <span class="pl-smi">$value</span><span class="pl-k">-&gt;</span>val(); <span class="pl-c">// "4.2"</span></span></pre></div>

<p>Show current rule</p>

<div class="highlight highlight-php"><pre><span class="pl-s1"><span class="pl-c1">echo</span> <span class="pl-smi">$value</span><span class="pl-k">-&gt;</span>val(); <span class="pl-c">// "eur"</span></span></pre></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/smetdenis/SimpleTypes">Simpletypes</a> is maintained by <a href="https://github.com/smetdenis">smetdenis</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

